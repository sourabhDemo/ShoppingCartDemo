<div data-ng-controller="Store as st">
    <p class="text-info">
        Welcome to the Stationary Store.<br /><b><a href="#/chart">Click here for charting module.</a> </b><br />
        Please select the products you want and add them to your shopping cart.<br />
        When you are done, click the shopping cart icon to review your order and check out.
    </p>

    <p>
        Search:
        <input data-ng-model="search">
    </p>

    <table class="table table-bordered">
        <tr class="well">
            <td class="tdRight" colspan="4">
                <a href="default.htm#/cart" title="go to shopping cart" data-ng-disabled="st.cart.getTotalCount() < 1">
                    <i class="icon-shoppidata-ng-cart" />
                    <b>{{st.cart.getTotalCount()}}</b> items, <b>{{st.cart.getTotalPrice() | currency}}</b>
                </a>
            </td>
        </tr>
        <tr data-ng-repeat="product in st.store.products | orderBy:'name' | filter:search">
            <td class="tdCenter">
                <img data-ng-src="../images/products/{{product.sku}}.jpg" alt="{{product.name}}" /></td>
            <td>
                <a href="#/products/{{product.sku}}"><b>{{product.name}}</b></a><br />
                {{product.description}}
            </td>
            <td class="tdRight">{{product.price | currency}}
            </td>
            <td class="tdCenter">
                <a data-ng-href="#/store" data-ng-click="st.cart.addItem(product.sku, product.name, product.price, 1)">add to cart
                </a>
            </td>
        </tr>
        <tr class="well">
            <td class="tdRight" colspan="4">
                <a href="default.htm#/cart" title="go to shopping cart" data-ng-disabled="st.cart.getTotalCount() < 1">
                    <i class="icon-shoppidata-ng-cart" />
                    <b>{{st.cart.getTotalCount()}}</b> items, <b>{{st.cart.getTotalPrice() | currency}}</b>
                </a>
            </td>
        </tr>
    </table>
</div>
